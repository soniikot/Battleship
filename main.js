(()=>{"use strict";var e={208:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(601),a=n.n(r),o=n(314),i=n.n(o)()(a());i.push([e.id,"* {\n  box-sizing: border-box;\n}\n\nh1 {\n  color: red;\n  text-align: center;\n}\n\n.wrapper {\n  display: flex;\n  gap: 50px;\n  justify-content: center;\n}\n\ntable {\n  border-collapse: collapse;\n}\n\ntd {\n  width: 25px;\n  height: 25px;\n  text-align: center;\n  border: 1px solid black;\n}\n\n.miss {\n  background-color: rgb(78, 208, 119);\n}\n\n.hit {\n  background-color: red;\n}\n\n.special {\n  background-color: yellow;\n}\n\n.empty {\n  background-color: white;\n}\n\ntd:hover {\n  background-color: purple;\n}\n\n.ship-cell {\n  width: 25px;\n  height: 25px;\n  background-color: rgb(78, 83, 208);\n  border: 1px solid black;\n}\n\n.game-over-message {\n  font-size: 25px;\n  text-align: center;\n  margin-top: 25px;\n}\n\n.ship-container {\n  display: flex;\n  margin-top: 8px;\n  flex-direction: column;\n  gap: 8px;\n  width: 125px;\n}\n\n.ship-container:has(.ship.vertical) {\n  flex-direction: row;\n}\n\n.ship {\n  display: flex;\n}\n\n.vertical {\n  flex-direction: column;\n}\n",""]);const s=i},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var d=0;d<e.length;d++){var l=[].concat(e[d]);r&&i[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),a&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=a):l[4]="".concat(a)),t.push(l))}},t}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},i=[],s=0;s<e.length;s++){var c=e[s],d=r.base?c[0]+r.base:c[0],l=o[d]||0,p="".concat(d," ").concat(l);o[d]=l+1;var u=n(p),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==u)t[u].references++,t[u].updater(h);else{var m=a(h,r);r.byIndex=s,t.splice(s,0,{identifier:p,updater:m,references:1})}i.push(p)}return i}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var o=r(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var s=n(o[i]);t[s].references--}for(var c=r(e,a),d=0;d<o.length;d++){var l=n(o[d]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}o=c}}},659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0;const r=class{hits=0;isSunkStatus=!1;constructor(e){this.length=e}hit(){this.hits++,this.isSunk()}isSunk(){this.hits===this.length&&(this.isSunkStatus=!0)}},a={aircraftCarrier:new r(5),battleShip:new r(4),cruiser:new r(3),submarine:new r(3),destroyer:new r(2)},o=class{grid=this.createGrid();ships=[];createGrid(){const e=[];for(let t=0;t<10;t++){const t=[];for(let e=0;e<10;e++)t.push(null);e.push(t)}return e}placeShip(e,t,n,a){const o=new r(n);if(!this.isValidPosition(e,t)||!this.isSpaceAvailable(e,t,n,a))return"error";for(let r=0;r<n;r++)"horizontal"===a?this.grid[e][t+r]=o:"vertical"===a&&(this.grid[e+r][t]=o);return this.markSurroundingCells(e,t,n,a),this.ships.push(o),"ship placed"}markSurroundingCells(e,t,n,r){const a=[];for(let o=-1;o<=n;o++)for(let n=-1;n<=1;n++){let i,s;"horizontal"===r?(i=e+n,s=t+o):(i=e+o,s=t+n),this.isValidPosition(i,s)&&null===this.grid[i][s]&&a.push([i,s])}a.forEach((([e,t])=>{this.grid[e][t]=this.grid[e][t]||"X"}))}isValidPosition(e,t){return e>=0&&e<10&&t>=0&&t<10}isSpaceAvailable(e,t,n,r){for(let a=0;a<n;a++)if("horizontal"===r){if(t+a>=10||null!==this.grid[e][t+a])return!1}else if("vertical"===r&&(e+a>=10||null!==this.grid[e+a][t]))return!1;return!0}receiveAttack(e,t){return"M"===this.grid[e][t]||"H"===this.grid[e][t]?"already hit":this.grid[e][t]instanceof r?(this.grid[e][t].hit(),this.grid[e][t]="H",this.checkWinners(),"hit"):(this.grid[e][t]="M","missed")}checkWinners(){if(this.ships.every((e=>!0===e.isSunkStatus)))return!0}displayGrid(){return this.grid.map((e=>e.map((e=>e instanceof r?"S":"M"===e?"M":"H"===e?"H":"X"===e?"X":" "))))}},i=class{gameBoard=new o;constructor(e,t=!1){this.name=t?"Computer":e,this.isComputer=t}computerPlacingShips(){Object.values(a).forEach((e=>{let t=!1;for(;!t;){const n=Math.random()>.5?"horizontal":"vertical",r=Math.floor(9*Math.random()),a=Math.floor(9*Math.random());"ship placed"===this.gameBoard.placeShip(r,a,e.length,n)&&(t=!0)}}))}computerAttacks(){let e,t;do{e=Math.floor(9*Math.random()),t=Math.floor(9*Math.random())}while("already hit"===this.gameBoard.receiveAttack(e,t))}};class s{computerPlayer=new i(null,!0);constructor(e){this.humanPlayer=new i(e),this.currentPlayer=this.humanPlayer}}let c;const d=()=>{c.currentPlayer=c.currentPlayer===c.humanPlayer?c.computerPlayer:c.humanPlayer},l=()=>{const e=document.getElementById("renderedComputerBoard"),t=({row:n,col:r})=>{const a=c.computerPlayer.gameBoard.receiveAttack(n,r);switch(h(),a){case"hit":c.computerPlayer.gameBoard.checkWinners()?E("humanPlayerWin"):(d(),c.humanPlayer.computerAttacks(),u(),d(),l());break;case"missed":d(),c.humanPlayer.computerAttacks(),u(),d(),l();break;default:alert("You can not hit the same place twice"),w(e).then(t)}c.computerPlayer.gameBoard.grid.every((e=>e.every((e=>null!==e))))&&E("Draw")};w(e).then(t)},p=document.querySelector(".wrapper"),u=()=>{const e=document.getElementById("RenderedHumanBoard");e.innerHTML="";const t=document.createElement("table");c.humanPlayer.gameBoard.displayGrid().forEach(((n,r)=>{const a=document.createElement("tr");n.forEach(((e,t)=>{const n=document.createElement("td");switch(n.textContent=e,n.dataset.row=r,n.dataset.col=t,n.addEventListener("dragover",v),n.addEventListener("drop",x),e){case"S":n.className="ship-cell";break;case"M":n.className="miss";break;case"H":n.className="hit";break;case"X":n.className="special";break;default:n.className="empty"}a.appendChild(n)})),t.appendChild(a),e.appendChild(t)}))},h=()=>{const e=document.getElementById("renderedComputerBoard");e.innerHTML="";const t=document.createElement("table");c.computerPlayer.gameBoard.displayGrid().forEach(((n,r)=>{const a=document.createElement("tr");n.forEach(((e,t)=>{const n=document.createElement("td");switch(n.textContent=e,n.dataset.row=r,n.dataset.col=t,e){case"M":n.textContent="M",n.className="miss";break;case"H":n.textContent="H",n.className="hit";break;default:n.textContent="",n.className="hidden"}a.appendChild(n)})),t.appendChild(a),e.appendChild(t)}))},m=document.createElement("div");m.id="ship-container-wrapper";const f=()=>{document.querySelectorAll(".ship").forEach((e=>{e.classList.toggle("vertical")}))},g=e=>{const t=e.target,n=y(t);e.dataTransfer.setData("text/plain",t.dataset.ship),e.dataTransfer.setData("direction",n)},v=e=>{e.preventDefault()},y=e=>e.classList.contains("vertical")?"vertical":"horizontal",b=new Set,x=e=>{e.preventDefault();const t=e.dataTransfer.getData("text/plain"),n=e.dataTransfer.getData("direction")||"horizontal",r=a[t],o=parseInt(e.target.dataset.row,10),i=parseInt(e.target.dataset.col,10);if("ship placed"===c.humanPlayer.gameBoard.placeShip(o,i,r.length,n)){u(),b.add(t);const e=document.querySelector(`.ship[data-ship="${t}"]`);e&&e.remove(),5===b.size&&(document.getElementById("ship-container"),m.innerHTML="",l())}},w=e=>{if(e)return new Promise((t=>{e.addEventListener("click",(e=>{const n=e.target.closest("[data-row]");n&&t({row:parseInt(n.dataset.row,10),col:parseInt(n.dataset.col,10)})}))}))},E=e=>{const t=document.createElement("div");let n;switch(t.classList.add("game-over-message"),e){case"humanPlayerWin":n="You win! Congratulations!";break;case"computerPlayerWin":n="Computer wins! Better luck next time!";break;case"Draw":n="It's a draw! Well played!";break;default:n="Unknown outcome"}t.textContent=n,document.body.appendChild(t)};var C=n(72),k=n.n(C),P=n(825),S=n.n(P),M=n(659),B=n.n(M),L=n(56),A=n.n(L),I=n(540),T=n.n(I),H=n(113),N=n.n(H),z=n(208),D={};D.styleTagTransform=N(),D.setAttributes=A(),D.insert=B().bind(null,"head"),D.domAPI=S(),D.insertStyleElement=T(),k()(z.A,D),z.A&&z.A.locals&&z.A.locals,document.getElementById("startGame").addEventListener("click",(()=>{(()=>{const e=document.getElementById("name");c=new s(e.value)})(),(()=>{p.innerHTML="";const e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div");n.textContent=`${c.humanPlayer.name}'s Board`,t.id="RenderedHumanBoard",t.classList.add("RenderedBoard"),p.appendChild(e),e.appendChild(n),e.appendChild(t),u();const r=document.createElement("div"),a=document.createElement("div"),o=document.createElement("div");o.textContent="Enemy's Board",a.id="renderedComputerBoard",p.appendChild(r),r.appendChild(o),r.appendChild(a),a.classList.add("RenderedBoard"),h()})(),(()=>{const e=document.createElement("p");e.textContent="Place your ships";const t=document.createElement("div");t.id="ship-container",t.classList.add("ship-container"),m.appendChild(e);const n=document.createElement("button");n.textContent="Rotate Ships",n.addEventListener("click",f),m.appendChild(n),Object.entries(a).forEach((([e,n])=>{const r=document.createElement("div");r.classList.add("ship"),r.draggable=!0,r.dataset.ship=e,r.classList.add="horizontal";for(let e=0;e<n.length;e++){const e=document.createElement("div");e.classList.add("ship-cell"),r.appendChild(e)}r.addEventListener("dragstart",g),t.appendChild(r)})),m.append(t),p.prepend(m)})(),c.computerPlayer.computerPlacingShips()}))})();